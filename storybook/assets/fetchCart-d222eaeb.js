import{d as h}from"./index-cfc35cc2.js";const A=h({key:"cartState",default:[]}),n=["마코","허브","우가"],i={[n[0]]:"https://m4co.shop",[n[1]]:"https://h3rb.shop",[n[2]]:"https://wuga.shop"},p=t=>`${i[t]}/products`,o=t=>`${i[t]}/cart-items`,d=t=>`${i[t]}/coupons`;try{p.displayName="getProductPath",p.__docgenInfo={description:"",displayName:"getProductPath",props:{}}}catch{}try{o.displayName="getCartPath",o.__docgenInfo={description:"",displayName:"getCartPath",props:{}}}catch{}try{d.displayName="getCouponPath",d.__docgenInfo={description:"",displayName:"getCouponPath",props:{}}}catch{}const $=h({key:"serverState",default:n[0]}),u=t=>({id:t.id,name:t.name,price:t.price,imageUrl:t.imageUrl}),P=0,S=99,I="장바구니 수량은 99까지 가능합니다.",y=0,m=({cartId:t,product:r})=>({id:t,quantity:1,isSelect:!0,product:r}),N=({cart:t,cartId:r,product:a})=>[...t,m({cartId:r,product:a})],R=({cart:t,cartId:r,quantity:a})=>t.map(e=>e.id===r?{...e,quantity:a}:e),z=({cart:t,cartId:r})=>t.filter(a=>a.id!==r),g=t=>t.map(r=>({id:r.id,quantity:r.quantity,product:u(r.product),isSelect:!0})),M=({cart:t,productId:r})=>{const a=t.find(e=>e.product.id===r);return a?a.id:y},_="pizza2@pizza.com",w="pizza",c=btoa(`${_}:${w}`),E=async(t,r={})=>{try{const a={method:"GET",headers:{"Content-Type":"application/json",Authorization:`Basic ${c}`,...r.headers},...r},e=await fetch(t,a);if(!e.ok)throw e.status===404?new Error("리소스를 찾을 수 없습니다"):new Error(`HTTP 오류! Status: ${e.status}`);return await e.json()}catch(a){const e=a.message;throw new Error(`Error: ${e}`)}},f=async(t,r,a={})=>{try{const e={method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:`Basic ${c}`,...a.headers},...a},s=await fetch(t,e);if(!s.ok)throw new Error(`POST 요청이 ${s.status} 상태로 실패했습니다.`);return s}catch(e){const s=e.message;throw new Error(`Error: ${s}`)}},C=async(t,r,a={})=>{try{const e={method:"PATCH",body:JSON.stringify(r),headers:{"Content-Type":"application/json",Authorization:`Basic ${c}`,...a.headers},...a},s=await fetch(t,e);if(!s.ok)throw new Error(`PATCH 요청이 ${s.status} 상태로 실패했습니다.`);return s}catch(e){const s=e.message;throw new Error(`Error: ${s}`)}},l=async(t,r={})=>{try{const a={method:"DELETE",headers:{Authorization:`Basic ${c}`,...r.headers},...r},e=await fetch(t,a);if(!e.ok)throw new Error(`DELETE 요청이 ${e.status} 상태로 실패했습니다.`);return e}catch(a){const e=a.message;throw new Error(`Error: ${e}`)}},O=async({productId:t,serverName:r})=>{const a=await f(o(r),{productId:t});if(!a)throw new Error("장바구니에 아이템을 추가하지 못했습니다.");const e=a.headers.get("Location"),s=e==null?void 0:e.split("/").pop();if(!s)throw new Error("장바구니 아이템 생성에 실패했습니다.");return s},k=async({cartId:t,serverName:r})=>{await l(`${o(r)}/${t}`)},b=async({cartId:t,serverName:r,quantity:a})=>{await C(`${o(r)}/${t}`,{quantity:a})},Q=async t=>{const r=await E(o(t));return g(r)};export{y as F,S as M,I as Q,n as S,P as a,N as b,A as c,M as d,g as e,E as f,o as g,k as h,O as i,b as j,Q as k,z as r,$ as s,R as u};
//# sourceMappingURL=fetchCart-d222eaeb.js.map
